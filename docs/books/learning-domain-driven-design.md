# Learning Domain-Driven Design

## 1. ビジネスドメインを分析する

ビジネスドメインとは、**会社の主たる活動領域**のこと。複数の場合もある。
例えば、Fedexなら運送、スタバなら飲食、ウォルマートなら小売。

ドメインの目標を達成するために、複数の**サブドメイン**が構成される。
例えば、スタバならコーヒー製造、物流、不動産、人事、金融など。

サブドメインは、Core, Generic, and Supporting の3種類がある。

- **Core Subdomains**
  - ビジネス固有かつ複雑な領域
  - 金を生む
  - 競争力になる
  - 他社への参入障壁となる
  - 頻繁に変更される
  - 技術によるものとは限らず、人によるものの場合もある
  - e.g. 宝石屋ならデザイン部門
- **Generic Subdomains**
  - ビジネス固有ではないが複雑な領域
  - ビジネス固有ではないので、既成のソリューションがあり、競争力にはならない
  - "Known unknowns"の領域
  - e.g. ユーザーの認証システムなど
- **Supporting Subdomains**
  - ビジネス固有かつシンプルな領域
  - ビジネス固有なので、既製品はない
  - シンプルなので、競争力にはならない
  - リソースを割いてもしょうがない領域であり、アウトソース候補である
  - ETLやCRUDのようなインターフェースを取ることが多い

サブドメインの分割は、ユースケースを基準に行うとよい。
特定のアクターが、関連するデータを使って一貫した業務フローを完結できる単位が、一つのサブドメインになる。

**ドメインエキスパート**とは、ビジネスルールとプロセスを知っている人のこと。
ソフトウェアで問題を解決してあげる対象者であり、エンドユーザーともいえる。

## 2. ドメイン知識を発見する

ビジネスにおける**問題**は広い意味を持つ。例えば以下のようなものがある。

- 非効率なワークフローの存在
- 人の手が必要な高コストな作業の存在
- リソースの非効率的な管理
- 意思決定のための情報不足

これらの問題にソリューションを提供するのが、ビジネスの目的である。
コードを書く作業は枝葉の話であり、成功に必要なのは**問題の理解**である。

従来は「ドメイン知識->分析モデル->仕様->システム設計->実装」のような変換を重ねることが多かった。
この手法だと、問題の情報が失われたり、急速に陳腐化したり、的はずれな解決策になったりしがち。

あらゆる関係者が**ユビキタス言語**を使うべき。
ドメインエキスパートの、ビジネスドメインに対する理解とメンタルモデルを、
現実世界の平易な言葉で表現したものが、ユビキタス言語である。
