# Inngest

**Funciton**(`inngest.createFunction()`) は、バックグラウンド処理を高い信頼性で実行するためのもの処理単位。
リトライ、スケジュール、スロットル、デバウンス、レートリミット、
優先処理、バッチ処理、複雑な処理順序や、複数の処理の組み合わせをサポートする。
event または cron により**Trigger**される。

**event**はコードから明示的に送信されたり、webhook や API を介して送信される。

**Handler**は、Function 内で実行されるコードのこと。
内部では event と step を扱える。

**Step**(`step.run`) は Function における基礎的な処理の単位。
複数の処理がある場合には、それぞれを Step として定義することが推奨される。
そうすることで、失敗時には失敗した Step 以降だけをリトライ・リカバリすることが可能になる。
Step はコードレベルのトランザクションと捉えることができる。
`step.run()`, `step.sleep()`, `step.waitForEvent()` などのメソッドがある。

Fuction のユースケースは以下の通り。

- **バックグラウンド関数**
  - メインの処理の外側で実行できる、パフォーマンスや信頼性を担保したい処理に最適
  - e.g. サードパーティ API の呼び出し
- **スケジュールされた関数**
  - 定期的に自動実行したい処理に最適
  - e.g. 週次レポートの送信、キャッシュのクリア
- **遅延された関数**
  - 特定の処理のちょっと後に実行したい、別の処理があるときに最適
  - e.g. フォローアップメールの送信、注文の遅延処理
- **ステップ関数**
  - 複雑なワークフローを構築したいときに最適
  - 他のイベントを待機したり、実行を遅延したり、イベントや前のステップしょ処理結果によって分岐したりなど
  - 各ステップが個別にリトライ可能で、失敗に強い
  - e.g. オンボーディングフロー、条件に基づいた通知の送信
- **ファンアウト関数**
  - 1 つのイベントで複数の関数を同時にトリガー
  - 並列処理に最適
  - e.g. 複数サービスへの通知送信、異なるシステム間でのデータ処理
